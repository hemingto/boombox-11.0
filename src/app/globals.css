/* Tailwind CSS directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design Tokens as CSS Custom Properties */
:root {
  /* Brand colors */
  --color-primary: 24 24 27; /* zinc-950 */
  --color-primary-hover: 39 39 42; /* zinc-800 */
  --color-primary-active: 63 63 70; /* zinc-700 */

  /* Status colors */
  --color-success: 34 197 94; /* green-500 */
  --color-warning: 245 158 11; /* amber-500 */
  --color-error: 239 68 68; /* red-500 */
  --color-info: 59 130 246; /* blue-500 */

  /* Surface colors */
  --color-surface-primary: 255 255 255; /* white */
  --color-surface-secondary: 248 250 252; /* slate-50 */
  --color-surface-tertiary: 241 245 249; /* slate-100 */
  --color-surface-disabled: 226 232 240; /* slate-200 */

  /* Text colors */
  --color-text-primary: 24 24 27; /* zinc-950 */
  --color-text-secondary: 161 161 170; /* zinc-400 */
  --color-text-tertiary: 113 113 122; /* zinc-500 */

  /* Focus ring for accessibility */
  --focus-ring-color: rgb(24 24 27); /* zinc-950 */
  --focus-ring-offset: 2px;
}

/* Base styles */
@layer base {
  body {
    background: rgb(var(--color-surface-primary));
    color: rgb(var(--color-text-primary));
    font-weight: 400;
    font-family:
      var(--font-poppins),
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      sans-serif;
  }

  /* Typography - matching boombox-10.0 heading styles */
  h1 {
    font-size: 56px;
    font-weight: 600;
    line-height: 56px;
    font-family:
      var(--font-poppins),
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      sans-serif;
    color: rgb(var(--color-text-primary));
  }

  h2 {
    font-size: 24px;
    font-weight: 400;
    line-height: 32px;
    font-family:
      var(--font-poppins),
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      sans-serif;
    color: rgb(var(--color-text-primary));
  }

  h3 {
    font-size: 16px;
    font-weight: 400;
    line-height: 28px;
    font-family:
      var(--font-poppins),
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      sans-serif;
    color: rgb(var(--color-text-primary));
  }
}

/* Component utility classes */
@layer components {
  /* Button variants - primary pattern from boombox-10.0 */
  .btn-primary {
    @apply inline-flex items-center justify-center px-6 py-2.5 text-white font-semibold rounded-md;
    @apply bg-primary hover:bg-primary-hover active:bg-primary-active;
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-primary;
    @apply font-inter;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center px-6 py-2.5 font-semibold rounded-md;
    @apply bg-surface-tertiary text-text-primary;
    @apply hover:bg-surface-secondary focus:bg-surface-pressed focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply font-inter;
  }

  .btn-destructive {
    @apply inline-flex items-center justify-center px-6 py-2.5 text-white font-semibold rounded-md;
    @apply bg-status-error hover:bg-red-600 active:bg-red-700;
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-status-error focus-visible:ring-offset-2;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
    @apply font-inter;
  }

  /* Input field pattern from boombox-10.0 */
  .input-field {
    @apply w-full px-3 py-2.5 text-sm rounded-md;
    @apply bg-surface-tertiary;
    @apply placeholder:text-text-secondary;
    @apply focus:bg-surface-primary focus:outline-none focus:border-transparent;
    @apply focus:placeholder:text-text-primary;
    @apply disabled:bg-surface-disabled disabled:cursor-not-allowed;
    @apply disabled:text-text-secondary disabled:placeholder:text-text-secondary;
  }

  /* Apply focus ring only when there's no error */
  .input-field:not(.input-field--error):focus {
    @apply ring-2 ring-border-focus;
  }

  .input-field--error {
    @apply border-border-error ring-2 ring-border-error !important;
    @apply bg-red-50 focus:bg-red-50;
    @apply placeholder:text-status-error focus:placeholder:text-status-error;
    @apply text-status-error;
  }

  /* Card patterns */
  .card {
    @apply bg-surface-primary rounded-lg shadow-custom-shadow border border-gray-200;
  }

  .card-elevated {
    @apply bg-surface-primary rounded-lg shadow-custom-shadow border border-gray-200;
  }

  /* Status badge patterns - directly from statusUtils.ts */
  .badge {
    @apply inline-flex items-center px-3 py-2 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply badge bg-status-bg-success text-status-success;
  }

  .badge-warning {
    @apply badge bg-status-bg-warning text-status-warning;
  }

  .badge-error {
    @apply badge bg-status-bg-error text-status-error;
  }

  .badge-info {
    @apply badge bg-status-bg-info text-status-info;
  }

  .badge-pending {
    @apply badge bg-status-bg-pending text-status-pending;
  }

  .badge-processing {
    @apply badge bg-status-bg-processing text-status-processing;
  }

  /* Loading skeleton patterns */
  .skeleton {
    @apply bg-surface-tertiary rounded animate-pulse;
    @apply bg-shimmer bg-cover bg-no-repeat animate-shimmer;
  }

  .skeleton-text {
    @apply skeleton h-4;
  }

  .skeleton-title {
    @apply skeleton h-6;
  }

  .skeleton-avatar {
    @apply skeleton rounded-full;
  }

  /* Modal/overlay patterns */
  .modal-overlay {
    @apply fixed inset-0 bg-overlay-primary z-10;
  }

  .modal-content {
    @apply bg-surface-primary rounded-lg shadow-custom-shadow p-6 mx-4 relative z-20;
  }

  /* Form patterns */
  .form-group {
    @apply space-y-2;
  }

  .form-label {
    @apply block text-base font-normal text-primary mb-4;
  }

  .form-label-compact {
    @apply block text-base font-normal text-primary mb-2;
  }

  .form-error {
    @apply text-sm font-medium text-status-error mt-2;
  }

  .form-helper {
    @apply text-sm text-text-primary mt-1;
  }

  /* Input reset utility - removes all default browser styling */
  .input-reset {
    @apply border-none focus:outline-none appearance-none;
  }

  /* DatePicker component styles - High specificity to override react-datepicker defaults */
  .datepicker-calendar .react-datepicker__month-container {
    @apply p-4 rounded-md w-full;
    box-shadow: 0px 6px 20px 0px rgba(0, 0, 0, 0.2) !important;
    padding: 1rem !important;
    border-radius: 0.5rem !important;
    width: 100% !important;
  }

  .datepicker-calendar .react-datepicker {
    @apply font-inter border-0 rounded-lg text-sm;
    font-family:
      var(--font-inter), 'Inter', ui-sans-serif, system-ui, sans-serif !important;
    border: none !important;
    border-radius: 0.5rem !important;
    font-size: 0.875rem !important;
  }

  .datepicker-calendar .react-datepicker__header {
    @apply bg-surface-primary border-b-0 p-0;
    background-color: rgb(255 255 255) !important;
    border-bottom: none !important;
    padding: 0px !important;
  }

  .datepicker-calendar .react-datepicker__header button {
    @apply text-xl font-poppins;
    font-size: 1.25rem !important;
    font-family:
      var(--font-poppins), 'Poppins', ui-sans-serif, system-ui, sans-serif !important;
  }

  .datepicker-calendar .react-datepicker__month {
    @apply m-0;
    margin: 0 !important;
  }

  .datepicker-calendar .react-datepicker__day-names {
    @apply flex justify-around -mb-1;
    display: flex !important;
    justify-content: space-around !important;
    margin-bottom: -0.25rem !important;
  }

  .datepicker-calendar .react-datepicker__day-name {
    @apply w-10 leading-10 mx-1 flex-1 aspect-square text-center;
    @apply text-text-secondary font-semibold uppercase;
    width: 2.5rem !important;
    line-height: 2.5rem !important;
    margin: 0.2rem !important;
    flex: 1 !important;
    aspect-ratio: 1 / 1 !important;
    text-align: center !important;
    color: rgb(161 161 170) !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
  }

  .datepicker-calendar .react-datepicker__day {
    @apply flex justify-center items-center leading-none mx-1 flex-1 aspect-square text-center rounded-full;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    line-height: unset !important;
    margin: 0.2rem !important;
    flex: 1 !important;
    aspect-ratio: 1 / 1 !important;
    text-align: center !important;
    border-radius: 50% !important;
  }

  .datepicker-calendar .react-datepicker__day--selected,
  .datepicker-calendar .react-datepicker__day--selected:hover {
    @apply bg-primary text-text-inverse font-bold rounded-full;
    background-color: rgb(24 24 27) !important;
    border-radius: 50% !important;
    color: white !important;
    font-weight: bold !important;
  }

  .datepicker-calendar
    .react-datepicker__day:not(.react-datepicker__day--selected):hover {
    @apply bg-surface-tertiary rounded-full text-primary;
    background-color: rgb(241 245 249) !important;
    border-radius: 9999px !important;
    color: rgb(24 24 27) !important;
  }

  .datepicker-calendar .react-datepicker__day:active {
    @apply bg-surface-disabled rounded-full text-primary;
    background-color: rgb(226 232 240) !important;
    border-radius: 9999px !important;
    color: rgb(24 24 27) !important;
  }

  .datepicker-calendar
    .react-datepicker__day--keyboard-selected:not(
      .react-datepicker__day--selected
    ) {
    @apply bg-transparent rounded-full;
    background-color: transparent !important;
    border-radius: 9999px !important;
  }

  .datepicker-calendar
    .react-datepicker__day--keyboard-selected:not(
      .react-datepicker__day--selected
    ):hover {
    @apply bg-surface-tertiary;
    background-color: rgb(241 245 249) !important;
  }

  .datepicker-calendar .react-datepicker__current-month {
    @apply text-primary font-semibold text-base mb-2 font-poppins;
    color: rgb(24 24 27) !important;
    font-weight: 600 !important;
    font-size: 1rem !important;
    margin-bottom: 0.5rem !important;
    font-family:
      var(--font-poppins), 'Poppins', ui-sans-serif, system-ui, sans-serif !important;
  }

  .datepicker-calendar .react-datepicker__navigation {
    @apply top-4;
    top: 1rem !important;
  }

  .datepicker-calendar .react-datepicker__navigation--previous {
    @apply left-4;
    left: 1rem !important;
  }

  .datepicker-calendar .react-datepicker__navigation--next {
    @apply right-4;
    right: 1rem !important;
  }

  .datepicker-calendar .react-datepicker__day--disabled {
    @apply text-text-secondary line-through cursor-not-allowed;
    color: rgb(228 228 231) !important;
    text-decoration: line-through !important;
    cursor: not-allowed !important;
  }

  .datepicker-calendar .react-datepicker__day--disabled:hover {
    @apply bg-transparent text-text-secondary cursor-not-allowed;
    background-color: transparent !important;
    color: rgb(228 228 231) !important;
    cursor: not-allowed !important;
  }

  .datepicker-calendar .react-datepicker__current-month,
  .datepicker-calendar .react-datepicker__day-name,
  .datepicker-calendar .react-datepicker__day,
  .datepicker-calendar .react-datepicker__time-name {
    @apply font-poppins;
    font-family:
      var(--font-poppins), 'Poppins', ui-sans-serif, system-ui, sans-serif !important;
  }

  /* Hide dates from next/previous months */
  .datepicker-calendar .react-datepicker__day--outside-month {
    @apply invisible;
    visibility: hidden !important;
  }

  /* Ensure proper layout */
  .datepicker-calendar .react-datepicker__month {
    @apply flex flex-col;
    display: flex !important;
    flex-direction: column !important;
  }

  .datepicker-calendar .react-datepicker__week {
    @apply flex justify-between items-center;
    display: flex !important;
    justify-content: space-between !important;
    justify-content: center !important;
    align-items: center !important;
  }

  /* DatePicker calendar container with design system integration */
  .datepicker-calendar {
    @apply bg-surface-primary rounded-md;
    background-color: rgb(255 255 255) !important;
    border-radius: 0.375rem !important;
    border: none !important;
    width: 100% !important;
    max-width: none !important;
  }

  /* Layout utilities */
  .page-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .account-page-container {
    @apply max-w-5xl lg:px-16 px-6 mx-auto;
  }

  .section-spacing {
    @apply py-16 lg:py-24;
  }

  /* Focus styles for accessibility */
  .focus-visible {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
  }

  /* Text utilities */
  .text-balance {
    text-wrap: balance;
  }

  /* Animation utilities */
  .animate-fade-in {
    @apply animate-fadeIn;
  }

  .animate-slide-in {
    @apply animate-slideIn;
  }

  /* Opacity-only fade in (no translateY motion) */
  .animate-fade-in-opacity {
    animation: fade-in-opacity 0.4s ease-out;
  }

  /* Hide scrollbar for Chrome, Safari and Opera */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Hide scrollbar for IE, Edge and Firefox */
  .scrollbar-hide {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
}

@keyframes fade-in-opacity {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}

.animate-float {
  animation: float 5s ease-in-out infinite;
}

/* Decorative icon sizing & positioning â€“ mobile-first */
.decorative-icon {
  width: calc(var(--icon-size) * 0.65);
  height: calc(var(--icon-size) * 0.65);
  /* Mobile: use mobile override if set, otherwise fall back to desktop value */
  top: var(--icon-top-mobile, var(--icon-top));
  left: var(--icon-left-mobile, var(--icon-left));
  right: var(--icon-right-mobile, var(--icon-right));
  bottom: var(--icon-bottom-mobile, var(--icon-bottom));
}

@media (min-width: 768px) {
  .decorative-icon {
    width: var(--icon-size);
    height: var(--icon-size);
    /* Desktop: always use the base values */
    top: var(--icon-top);
    left: var(--icon-left);
    right: var(--icon-right);
    bottom: var(--icon-bottom);
  }
}
